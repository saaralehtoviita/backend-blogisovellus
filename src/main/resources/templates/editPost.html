<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<head>
    <title>Writing a blogpost</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/omatyyli.css">
</head>
<!--Tämä sivu aukeaa vain sisäänkirjautuneelle käyttäjälle. Tällä sivulla editoitaan jo kirjoitettua postausta-->
<body class="ml-4">
    <h1>Edit Blogpost</h1>
    <p>Please, write your post in the form below. If you want your text to be <strong>bold</strong> or <i>italic</i>, use the following syntax: <br>
    **content you want bolded**.<br>
    _content you want italic_</p>
    <form th:object="${post}" th:action="@{/saveEditedPost}" method="post">
        <input type="hidden" th:field="*{postId}" />
        <div class="mb-3">
            <label for="title">Title of Post:</label>
                <input type="text" id="title" th:field="*{title}" />
                    <div th:if="${#fields.hasErrors('title')}" th:errors="*{title}" class="text-danger">Error</div>
        </div>

        <div class="mb-3">
            <label for="text">Content:</label>
                <textarea id="text" th:field="*{text}" class="form-control w-75" rows="15"></textarea>
                    <div th:if="${#fields.hasErrors('text')}" th:errors="*{text}" class="text-danger">Error</div>
        </div>

        <div class="mb-3">
            <label>Keywords, separated with comma:</label>
            <input type="text" th:field="*{keywordInput}" required class="form-control w-75">
                <!-- tämä tapa ei transient annotaation kanssa toimi:
            <div th:if="${#fields.hasErrors('keywordInput')}" th:errors="*{keywordInput}" class="text-danger">Error</div> -->
        </div>
    <input type="submit" value="Save Post" class="btn mt-2">
        <!--Lomakkeeseen ei tarvitse täydentää postauksen kirjoittajan tietoja, ne täydentyvät automaattisesti sisäänkirjautuneen käyttäjän tiedoista-->
    </form>
    <form th:action="@{/logout}" method="post">
        <button type="submit" class="btn btn-signout mt-2">
          <i class="bi bi-box-arrow-right"></i> Sign out</button>  
    </form>
</body>
</html>